<div class="router-container">
    <br>
    <div *ngIf="user">
        <mat-form-field appearance="outline">
            <mat-label>Textarea</mat-label>
            <textarea matInput [(ngModel)]="content" placeholder="content"></textarea>
        </mat-form-field>
        <p>
            <mat-form-field appearance="outline">
                <mat-label>GIF search</mat-label>
                <input matInput [(ngModel)]="gifSearch" placeholder="GIF">
            </mat-form-field>
            
        </p>
        <p>
            <mat-divider></mat-divider>
        </p>
        <div fxLayout="row" fxLayoutAlign="space-evenly center">
            <button mat-fab extended (click)="searchGif()">Search Gif</button>
            <button mat-fab extended color="primary" (click)="sendEvent()">Send</button>
        </div>
        <p>
            <mat-divider></mat-divider>
        </p>
        <mat-form-field>
            <div>
                <mat-toolbar class="mat-toolbar-single-row">
                    <input class="mat-input-element" matInput [value]="selectedFileNames.length ? selectedFileNames : 'Add image'" />
                    <button mat-flat-button color="primary" [disabled]="!selectedFiles" (click)="uploadImage()">
                        Upload
                    </button>
                </mat-toolbar>
                <input
                    type="file"
                    id="fileInput"
                    name="fileInput"
                    accept="image/*" multiple 
                    (change)="selectFiles($event)"
                />
            </div>
        </mat-form-field>
        <div>
            <img *ngIf="preview" [src]="preview" class="preview">
        </div>
    </div>
    <div *ngIf="gifsFound.length > 0">
        <div class="gif-header">
            <p>click a gif to add</p>
        </div>
        <p>
            <mat-divider></mat-divider>
        </p>
        <mat-grid-list cols="3" rowHeight="120px">
            <mat-grid-tile
                *ngFor="let g of gifsFound"
                [colspan]="1"
                [rowspan]="1">
                <div (click)="addGifToPostContent(g)">
                    <img class="gif-preview" src="{{g}}" />
                </div>
            </mat-grid-tile>
        </mat-grid-list>
    </div>

</div>
