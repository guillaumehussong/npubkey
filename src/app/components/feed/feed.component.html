<h1>Relay Feeds</h1>
<mat-chip-listbox aria-label="Feed selection">
    <div *ngFor="let chip of chips; index as i;" >
        <mat-chip-option *ngIf="i === 0" selected (click)="switchFeed(chip.name)">{{chip.name}}</mat-chip-option>
        <mat-chip-option *ngIf="i !== 0" (click)="switchFeed(chip.name)">{{chip.name}}</mat-chip-option>
    </div>
</mat-chip-listbox>
<div *ngIf="selectedChip.name === this.chips[2].name">
    <p>
        <mat-form-field class="hashtag-chip-list" appearance="fill">
            <mat-label>Favorite hashtags</mat-label>
            <mat-chip-grid #chipGrid aria-label="Enter hashtags">
              <mat-chip-row *ngFor="let hashtag of hashtags"
                            (removed)="remove(hashtag)"
                            [editable]="true"
                            (edited)="edit(hashtag, $event)"
                            [aria-description]="'press enter to edit ' + hashtag.name">
                {{hashtag.name}}
                <button matChipRemove [attr.aria-label]="'remove ' + hashtag.name">
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip-row>
              <input placeholder="New hashtag..."
                     [matChipInputFor]="chipGrid"
                     [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                     [matChipInputAddOnBlur]="addOnBlur"
                     (matChipInputTokenEnd)="add($event)"/>
            </mat-chip-grid>
          </mat-form-field>
          <button mat-stroked-button (click)="searchHashtags()">Search Hashtags</button>
    </p>
</div>
<p>
    <mat-divider></mat-divider>
</p>
<div class="feed" *ngFor="let post of posts">
    <app-post [post]="post"></app-post>
</div>
<div *ngIf="posts.length === 0 && loading">
    <app-loading></app-loading>
</div>
<!-- <button mat-stroked-button (click)="morePosts()">More</button> -->
