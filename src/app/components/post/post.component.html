<mat-card class="post" *ngIf="post">
    <mat-card-header>
        <img 
            *ngIf="post.picture"
            class="header-image"
            routerLink="/users/{{post.pubkey|npub}}"
            mat-card-avatar
            src="{{post.picture}}"/>
      <mat-card-title routerLink="/users/{{post.pubkey|npub}}">{{post.pubkey|username|truncate}}</mat-card-title>
      <mat-card-subtitle class="npub">{{post.pubkey|npub|truncate}}</mat-card-subtitle>
      <mat-card-subtitle>{{post.fromNow}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <div [innerHTML]="post.content"></div>
        <div *ngFor="let profile of post.nip10Result.profiles">
            <mat-card-subtitle routerLink="/users/{{profile.pubkey|npub}}" class="replyingTo">{{profile.pubkey|username}}</mat-card-subtitle>
        </div>
    </mat-card-content>
    <mat-card-content *ngIf="canFollow">
        <button mat-stroked-button color="accent" (click)="followUser()">Follow</button>
    </mat-card-content>
</mat-card>
